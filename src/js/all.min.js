(function(){var projects=document.getElementsByClassName("project");var selectedTagsDiv=document.getElementById("selectedTags");var nbOfProjectsMatching=document.getElementById("nbOfProjectsMatching");var tagsMatchingInfo=document.getElementById("tagsMatchingInfo");var tagOnClick=function(){if(this.parentNode.id==="tags"||this.parentNode.className==="info"){var tags=selectedTagsDiv.children;for(var i=0;i<tags.length;i++){if(tags[i].innerText===this.innerText){return}}var copy=this.cloneNode(true);copy.onclick=this.onclick;selectedTagsDiv.appendChild(copy)}else if(this.parentNode.id==="selectedTags"){this.remove()}var tagsElements=selectedTagsDiv.children;var selectedTags=Array();for(var i=0;i<tagsElements.length;i++){selectedTags.push(tagsElements[i].innerText)}if(selectedTags.length===0){for(var i=0;i<projects.length;i++){projects[i].style.display="block"}tagsMatchingInfo.style.display="none"}else{var nbOfMatch=0;for(var i=0;i<projects.length;i++){var projectTags=projects[i].getElementsByClassName("tag");var foundOneMatching=false;for(var j=0;j<projectTags.length;j++){if(selectedTags.indexOf(projectTags[j].innerText)>=0){foundOneMatching=true;nbOfMatch++}}if(foundOneMatching){projects[i].style.display="block"}else{projects[i].style.display="none"}}tagsMatchingInfo.style.display="block";nbOfProjectsMatching.innerText=nbOfMatch}};var uniqTagsSet=new Set;var tags=document.getElementsByClassName("tag");for(var i=0;i<tags.length;i++){uniqTagsSet.add(tags[i].innerText)}var uniqTags=Array.from(uniqTagsSet).sort();var html=uniqTags.map(function(e){return"<span class='tag'>"+e+"</span>"}).join("");document.getElementById("nbProjects").innerText=projects.length;document.getElementById("tags").innerHTML=html;tags=document.getElementsByClassName("tag");for(var i=0;i<tags.length;i++){tags[i].onclick=tagOnClick}})();